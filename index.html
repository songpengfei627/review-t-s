<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title> 购物页 </title>
  <style>
    :root{
      --bg:#f7f7fb;        /* 背景 */
      --card:#ffffff;       /* 卡片 */
      --text:#1f2937;       /* 文字 */
      --sub:#6b7280;        /* 次级文字 */
      --brand:#7c3aed;      /* 品牌色 */
      --accent:#10b981;     /* 强调色 */
      --danger:#ef4444;     /* 警示 */
      --muted:#e5e7eb;      /* 边框/分隔 */
      --radius:16px;        /* 统一圆角 */
      --shadow:0 10px 20px rgba(31,41,55,.08);
      --gutter:16px;        /* 页面水平内边距 */
    }
    *{box-sizing:border-box}
    html,body{height:100%;min-height:100svh}
    body{margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;padding-bottom:calc(var(--dock-h) + env(safe-area-inset-bottom) + 16px);}
    img{display:block;max-width:100%;height:auto;border-radius:12px}
    button{cursor:pointer;border:0}
    .container{max-width:980px;margin:0 auto;padding:0 var(--gutter) calc(96px + var(--dock-h) + env(safe-area-inset-bottom));}

    /* 顶部导航 */
    .nav{position:sticky;top:0;z-index:40;backdrop-filter:saturate(180%) blur(8px);background:rgba(255,255,255,.8);border-bottom:1px solid var(--muted)}
    .nav-inner{display:flex;align-items:center;justify-content:space-between;padding:12px var(--gutter)}
    .brand{display:flex;align-items:center;gap:10px;font-size:18px;font-weight:700;color:var(--brand)}
    .brand svg{width:24px;height:24px}
    .actions{display:flex;align-items:center;gap:10px}
    .icon-btn{width:40px;height:40px;border-radius:12px;background:#fff;border:1px solid var(--muted);display:grid;place-items:center;box-shadow:var(--shadow)}

    /* 主体：产品信息 */
    .product{display:grid;gap:16px;margin:16px 0}
    @media(min-width:860px){.product{grid-template-columns:1.1fr .9fr;align-items:start}}

    .gallery{position:relative;background:var(--card);padding:12px;border-radius:var(--radius);box-shadow:var(--shadow)}
    .thumbs{display:flex;gap:8px;margin-top:10px;overflow-x:auto;padding-bottom:4px}
    .thumbs img{width:72px;height:72px;object-fit:cover;border:2px solid transparent;flex:0 0 auto}
    .thumbs img[aria-selected="true"]{border-color:var(--brand)}

    .info{background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:var(--shadow)}
    .title{font-size:20px;font-weight:700;line-height:1.3;margin:0}
    .price{display:flex;align-items:baseline;gap:10px;margin:8px 0 12px}
    .price .now{font-size:22px;font-weight:800;color:#111}
    .price .old{color:var(--sub);text-decoration:line-through}
    .meta{display:flex;flex-wrap:wrap;gap:8px;color:var(--sub);font-size:14px}
    .cta{display:flex;gap:10px;margin-top:14px}
    .btn{padding:12px 16px;border-radius:12px;font-weight:700}
    .btn-primary{background:var(--brand);color:#fff}
    .btn-ghost{background:#fff;border:1px solid var(--muted);color:#111}

    /* 详情/规格 */
    .details{margin-top:16px}
    .pill{display:inline-block;background:#f3f4f6;padding:6px 10px;border-radius:999px;font-size:12px;color:#111}

    /* 评论区 */
    .reviews{margin:24px 0}
    .section-title{font-size:18px;font-weight:800;margin:0 0 10px}
    .rating-summary{display:flex;align-items:center;gap:8px;color:#111}
    .stars{display:inline-flex;gap:2px}
    .stars svg{width:18px;height:18px}

    .review-list{display:grid;gap:12px}
    .review-card{background:var(--card);padding:12px;border-radius:var(--radius);box-shadow:var(--shadow)}
    .review-head{display:flex;align-items:center;gap:10px}
    .avatar{width:36px;height:36px;border-radius:50%;background:#ddd;flex:0 0 auto}
    .who{display:flex;flex-direction:column}
    .name{font-size:14px;font-weight:700}
    .date{font-size:12px;color:var(--sub)}

    /* —— 文字评论块 —— */
    .text-review{margin-top:10px; border:1px solid var(--muted); border-radius:14px; background:#f8f9fa; padding:12px}
    .text-review .content{font-size:14px; line-height:1.6; color:var(--text); word-break:break-word; white-space:pre-wrap}
    .text-review .status{margin-top:6px; font-size:12px; color:var(--sub)}
    .text-review.empty{background:#fff; border-style:dashed}
    .text-review.empty .status{color:var(--danger)}

    /* 图片区域 */
    .photos{margin-top:10px}
    .grid{display:grid; grid-template-columns:repeat(3, 1fr); gap:6px}
    .thumb{width:100%; aspect-ratio:1/1; border-radius:10px; border:1px solid var(--muted); background:#f8f9fa; overflow:hidden; position:relative; cursor:pointer}
    .thumb img{width:100%; height:100%; object-fit:cover; display:block}

    /* 底部吸附操作条（移动端） */
    .dock{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid var(--muted);padding:10px var(--gutter);display:flex;gap:10px;padding-bottom:calc(10px + env(safe-area-inset-bottom));z-index:9999}.dock .btn{flex:1}
    .dock .btn{flex:1}

    /* 小提示 */
    .tip{font-size:12px;color:var(--sub)}
  /* 评论区（占位样式） */
    .filter{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
    .chip{padding:6px 10px;border:1px solid var(--muted);background:#fff;border-radius:999px;font-size:12px}
    .chip.active{background:var(--brand);border-color:var(--brand);color:#fff}

    .review-list{display:grid;gap:12px}
    .card{background:var(--card);padding:12px;border-radius:var(--radius);box-shadow:var(--shadow)}
    .card .head{display:flex;align-items:center;gap:10px;justify-content:space-between}
    .audio{display:grid;grid-template-columns:36px 1fr auto auto;gap:10px;align-items:center;margin-top:8px}
    .audio .bar{height:8px;background:#eef2ff;border-radius:999px;overflow:hidden}
    .audio .prog{height:100%;width:0;background:var(--brand)}
.viewer.show{display:flex !important}
</style>
</head>
<body>
  <!-- 顶部导航 -->
  <nav class="nav" role="navigation" aria-label="顶部导航">
    <div class="nav-inner">
      <div class="brand" aria-label="品牌">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 2l2.39 4.84 5.34.78-3.86 3.76.91 5.32L12 14.77 6.22 16.7l.91-5.32L3.27 7.62l5.34-.78L12 2z" fill="currentColor"/></svg>
        NeoShop
      </div>
      <div class="actions">
        <button class="icon-btn" aria-label="搜索">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
        </button>
        <button class="icon-btn" aria-label="购物车">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 12.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
        </button>
      </div>
    </div>
  </nav>

  <main class="container">
    <!-- 产品信息 -->
    <section class="product" aria-label="产品">
      <div class="gallery" aria-label="产品图">
        <img id="mainImg" src="image-s\s-main.jpg" alt="产品主图" loading="lazy"/>
        <div class="thumbs" id="thumbs" role="listbox" aria-label="缩略图">
        </div>
      </div>

      <div class="info">
        <h1 class="title">Neo 大容量U盘</h1>
        <div class="price">
          <div class="now">¥ 39</div>
          <span class="pill">现货</span>
        </div>
        <div class="meta">
          <span>包邮</span>·<span>7 天无理由</span>·<span>一年质保</span>
        </div>
        <div class="cta">
          <button class="btn btn-ghost" aria-label="加入愿望单">加入愿望单</button>
          <button class="btn btn-primary" aria-label="加入购物车">加入购物车</button>
        </div>
        <div class="details">
          <div class="pill">海量128GB储存</div>
          <div class="pill">200MB/s高速传输</div>
          <div class="pill">金属外壳 抗震防摔</div>
        </div>
      </div>
    </section>

    <!-- 评论区 -->
    <section class="reviews" aria-label="评论区">
      <h2 class="section-title">用户评价</h2>

      <!-- 筛选条（点击 .chip 切换，data-key 对应 tagKeys） -->
      <div class="filter" role="tablist" aria-label="筛选">
      </div>

      <!-- 列表容器：你的脚本将把卡片插入到这里 -->
      <div id="list" class="review-list" aria-live="polite"></div>

      <template id="card-tpl">
        <article class="card" aria-label="评价卡片">
          <header class="head">
            <div style="display:flex;align-items:baseline;gap:8px">
              <div class="name" style="font-weight:700">用户</div>
              <div class="date" style="font-size:12px;color:var(--sub)">2025-01-01</div>
            </div>
            <div class="stars" aria-label="星级">★★★★★</div>
          </header>


      <!-- 替换为【文字评论块】 -->
      <div class="text-review">
        <div class="content">房间整洁，床很舒服，空调安静。前台办理入住很快，离地铁很近，适合短住。</div>
      </div>

      <!-- 图片区域（若无图片将自动隐藏） -->
      <div class="photos">
        <div class="grid"></div>
      </div>
    </article>
  </template>

      <!-- 图片查看器占位：你的脚本将控制显示/隐藏 -->
      <div id="viewer" class="viewer" aria-hidden="true" style="position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;padding:20px;z-index:1000">
        <img id="viewerImg" alt="大图预览" style="max-width:100%;max-height:100%;border-radius:12px"/>
      </div>

    </section>
  </main>
  <script>
    // ================ 数据：将 audioSrc 替换为 text 字段 ================
    // tagKeys: family / business / transport / quiet / breakfast / onsen
    const reviews = [
      { id:1,  name:"用户 A", date:"2025-10-17", stars:"★★★★★", text:"物超所值，U盘很小很便捷，材质柔软，推荐购买", photos:["image-s/1-1.jpg","image-s/1-2.jpg"] },
      { id:2,  name:"用户 B", date:"2025-10-10", stars:"★★★★☆", text:"U盘很好用，实际可用空间62G，整体不错。", photos:["image-s/2-1.jpg","image-s/2-2.jpg"] },
      { id:3,  name:"用户 C", date:"2025-10-04", stars:"★★★★☆", text:"超级可爱的U盘，做工很精致，插在电脑旁边心情都变好了", photos:["image-s/3-1.jpg"] },
      { id:4,  name:"用户 D", date:"2025-09-19", stars:"★★★★★", text:"做工很精致，材质很舒适，插拔丝滑", photos:["image-s/4-1.jpg"] },
      { id:5,  name:"用户 E", date:"2025-09-18", stars:"★☆☆☆☆", text:"我买的高速版本传输速度慢的要死，真是一次糟糕的体验", photos:[] },
      { id:6,  name:"用户 F", date:"2025-08-18", stars:"★★★★☆", text:"U盘外观小巧，内存备课够用，传输速度快", photos:["image-s/6-1.jpg"] },
      { id:7,  name:"用户 G", date:"2025-08-08", stars:"★★★★★", text:"外壳软糯漂亮，内存足够，推荐购买", photos:["image-s/7-1.jpg","image-s/7-2.jpg"] },
      { id:8,  name:"用户 H", date:"2025-08-03", stars:"★★★☆☆", text:"内存总共62G，平时存一些工作上的东西足够了", photos:["image-s/8-1.jpg"] },
      { id:9,  name:"用户 I", date:"2025-08-02", stars:"★★★☆☆", text:"容量大，质量好，老品牌值得信赖", photos:["image-s/9-1.jpg","image-s/9-2.jpg",] },
      { id:10, name:"用户 J", date:"2025-08-02", stars:"★★★★★", text:"内存足够大，颜值够高，携带也很方便", photos:["image-s/10.jpg"] }
    ];

    const $list = document.getElementById('list');
    const tpl = document.getElementById('card-tpl');
    const filterBar = document.querySelector('.filter');
    let curFilter = 'all';

    function createCard(data){
      const node = tpl.content.cloneNode(true);
      const card = node.querySelector('.card');
      card.dataset.id = data.id;
      card.dataset.tagKeys = (data.tagKeys||[]).join(',');
      card.querySelector('.name').textContent = data.name;
      card.querySelector('.date').textContent = data.date;
      card.querySelector('.stars').textContent = data.stars;

      const tagsWrap = card.querySelector('.tags');
      (data.tags||[]).forEach(t=>{ const span=document.createElement('span'); span.className='tag'; span.textContent=t; tagsWrap.appendChild(span); });

      // —— 文字评论 ——
      const block = card.querySelector('.text-review');
      const contentEl = block.querySelector('.content');
      if (data.text && String(data.text).trim()) {
        contentEl.textContent = data.text;
      } else {
        block.classList.add('empty');
        contentEl.textContent = '暂无文字评论';
      }

      // —— 图片 ——
      const photosWrap = card.querySelector('.photos');
      const grid = photosWrap.querySelector('.grid');
      if(Array.isArray(data.photos) && data.photos.length){
        data.photos.forEach((src,idx)=>{
          const box = document.createElement('div');
          box.className = 'thumb';
          const img = document.createElement('img');
          img.alt = `图片${idx+1}`; img.src = src;
          box.appendChild(img);
          box.addEventListener('click', ()=> openViewer(src));
          grid.appendChild(box);
        });
      } else {
        photosWrap.style.display = 'none';
      }

      return node;
    }

    function render(){
      $list.innerHTML = '';
      reviews.forEach(r=>{
        if(curFilter==='all' || (r.tagKeys||[]).includes(curFilter)){
          $list.appendChild(createCard(r));
        }
      });
    }

    // 筛选交互（若需要扩展标签，照旧添加 .chip data-key 即可）
    filterBar.addEventListener('click', (e)=>{
      const item = e.target.closest('.chip');
      if(!item) return;
      document.querySelectorAll('.chip').forEach(ch=>ch.classList.remove('active'));
      item.classList.add('active');
      curFilter = item.dataset.key || 'all';
      render();
    });

    // 图片查看器
    const viewer = document.getElementById('viewer');
    const viewerImg = document.getElementById('viewerImg');
    function openViewer(src){ viewerImg.src = src; viewer.classList.add('show'); viewer.setAttribute('aria-hidden','false'); }
    viewer.addEventListener('click', ()=>{ viewer.classList.remove('show'); viewer.setAttribute('aria-hidden','true'); viewerImg.removeAttribute('src'); });

    // 初始渲染
    render();

    // 使用说明：
    // 1）头部信息可直接改 <header> 中文本；
    // 2）在 reviews[].text 写入评论内容（为空则展示“暂无文字评论”）；
    // 3）保留了与语音版一致的外观、筛选与图片查看逻辑，移动端优先。
  </script>
</body>
</html>


